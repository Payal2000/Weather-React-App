{"ast":null,"code":"var _jsxFileName = \"/Users/payalnagaonkar/Desktop/react-weather-app/src/context/WeatherContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport cityData from \"../data/cities_of_turkey.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherContext = /*#__PURE__*/createContext();\nexport const WeatherProvider = _ref => {\n  _s();\n  var _selected$initialvalu, _selected$initialvalu2, _selected$initialvalu3, _selected$initialvalu4;\n  let {\n    children\n  } = _ref;\n  const [cities, setCities] = useState([]);\n  const [selected, setSelected] = useState({\n    \"id\": 1,\n    \"name\": \"Delhi\",\n    \"latitude\": \"28.6600\",\n    \"longitude\": \"77.2300\",\n    \"population\": 29617000,\n    \"region\": \"IN\",\n    icon: \"\"\n  });\n  const [weathers, setWeathers] = useState({});\n  const [unit, setUnit] = useState(\"metric\");\n  const values = {\n    cities,\n    setCities,\n    selected,\n    setSelected,\n    weathers,\n    setWeathers,\n    unit,\n    setUnit\n  };\n  const apiKey = \"4327f11f6458df3e888e99c6b054069c\";\n\n  //console.log(weathers?.current?.weather?.[0].icon);\n\n  function getCities() {\n    setCities(cityData);\n  }\n  const citylat = selected !== null && selected !== void 0 && (_selected$initialvalu = selected.initialvalues) !== null && _selected$initialvalu !== void 0 && _selected$initialvalu[0].latitude ? selected === null || selected === void 0 ? void 0 : (_selected$initialvalu2 = selected.initialvalues) === null || _selected$initialvalu2 === void 0 ? void 0 : _selected$initialvalu2[0].latitude : selected.latitude;\n  const citylon = selected !== null && selected !== void 0 && (_selected$initialvalu3 = selected.initialvalues) !== null && _selected$initialvalu3 !== void 0 && _selected$initialvalu3[0].longitude ? selected === null || selected === void 0 ? void 0 : (_selected$initialvalu4 = selected.initialvalues) === null || _selected$initialvalu4 === void 0 ? void 0 : _selected$initialvalu4[0].longitude : selected.longitude;\n  useEffect(() => {\n    fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${citylat}&lon=${citylon}&exclude=minutely,hourly&units=${unit}&appid=${apiKey}`).then(response => response.json()).then(data => setWeathers(data));\n    return;\n  }, [selected, unit]);\n  useEffect(() => {\n    getCities();\n    return;\n  }, [unit]);\n  return /*#__PURE__*/_jsxDEV(WeatherContext.Provider, {\n    value: values,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(WeatherProvider, \"HKZ9nlS0cFNJ8RiKswHXsGuzNSw=\");\n_c = WeatherProvider;\nexport const useWeather = () => {\n  _s2();\n  return useContext(WeatherContext);\n};\n_s2(useWeather, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"WeatherProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useEffect","cityData","WeatherContext","WeatherProvider","children","cities","setCities","selected","setSelected","icon","weathers","setWeathers","unit","setUnit","values","apiKey","getCities","citylat","initialvalues","latitude","citylon","longitude","fetch","then","response","json","data","useWeather"],"sources":["/Users/payalnagaonkar/Desktop/react-weather-app/src/context/WeatherContext.js"],"sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\nimport cityData from \"../data/cities_of_turkey.json\";\n\nconst WeatherContext = createContext();\n\nexport const WeatherProvider = ({ children }) => {\n  const [cities, setCities] = useState([]);\n  const [selected, setSelected] = useState({\n    \"id\": 1,\n  \"name\": \"Delhi\",\n  \"latitude\": \"28.6600\",\n  \"longitude\": \"77.2300\",\n  \"population\": 29617000,\n  \"region\": \"IN\",\n    icon: \"\",\n  });\n  const [weathers, setWeathers] = useState({});\n  const [unit, setUnit] = useState(\"metric\");\n\n  const values = {\n    cities,\n    setCities,\n    selected,\n    setSelected,\n    weathers,\n    setWeathers,\n    unit,\n    setUnit,\n  };\n\n  const apiKey = \"4327f11f6458df3e888e99c6b054069c\";\n\n  //console.log(weathers?.current?.weather?.[0].icon);\n\n  function getCities() {\n    setCities(cityData);\n  }\n\n  const citylat = selected?.initialvalues?.[0].latitude\n    ? selected?.initialvalues?.[0].latitude\n    : selected.latitude;\n\n  const citylon = selected?.initialvalues?.[0].longitude\n    ? selected?.initialvalues?.[0].longitude\n    : selected.longitude;\n\n  useEffect(() => {\n    fetch(\n      `https://api.openweathermap.org/data/2.5/onecall?lat=${citylat}&lon=${citylon}&exclude=minutely,hourly&units=${unit}&appid=${apiKey}`\n    )\n      .then((response) => response.json())\n      .then((data) => setWeathers(data));\n    return;\n  }, [selected, unit]);\n\n  useEffect(() => {\n    getCities();\n    return;\n  }, [unit]);\n\n  return (\n    <WeatherContext.Provider value={values}>{children}</WeatherContext.Provider>\n  );\n};\n\nexport const useWeather = () => useContext(WeatherContext);\n"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACtE,OAAOC,QAAQ,MAAM,+BAA+B;AAAC;AAErD,MAAMC,cAAc,gBAAGL,aAAa,EAAE;AAEtC,OAAO,MAAMM,eAAe,GAAG,QAAkB;EAAA;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAC1C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC;IACvC,IAAI,EAAE,CAAC;IACT,MAAM,EAAE,OAAO;IACf,UAAU,EAAE,SAAS;IACrB,WAAW,EAAE,SAAS;IACtB,YAAY,EAAE,QAAQ;IACtB,QAAQ,EAAE,IAAI;IACZU,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,QAAQ,CAAC;EAE1C,MAAMe,MAAM,GAAG;IACbT,MAAM;IACNC,SAAS;IACTC,QAAQ;IACRC,WAAW;IACXE,QAAQ;IACRC,WAAW;IACXC,IAAI;IACJC;EACF,CAAC;EAED,MAAME,MAAM,GAAG,kCAAkC;;EAEjD;;EAEA,SAASC,SAAS,GAAG;IACnBV,SAAS,CAACL,QAAQ,CAAC;EACrB;EAEA,MAAMgB,OAAO,GAAGV,QAAQ,aAARA,QAAQ,wCAARA,QAAQ,CAAEW,aAAa,kDAAvB,sBAA0B,CAAC,CAAC,CAACC,QAAQ,GACjDZ,QAAQ,aAARA,QAAQ,iDAARA,QAAQ,CAAEW,aAAa,2DAAvB,uBAA0B,CAAC,CAAC,CAACC,QAAQ,GACrCZ,QAAQ,CAACY,QAAQ;EAErB,MAAMC,OAAO,GAAGb,QAAQ,aAARA,QAAQ,yCAARA,QAAQ,CAAEW,aAAa,mDAAvB,uBAA0B,CAAC,CAAC,CAACG,SAAS,GAClDd,QAAQ,aAARA,QAAQ,iDAARA,QAAQ,CAAEW,aAAa,2DAAvB,uBAA0B,CAAC,CAAC,CAACG,SAAS,GACtCd,QAAQ,CAACc,SAAS;EAEtBrB,SAAS,CAAC,MAAM;IACdsB,KAAK,CACF,uDAAsDL,OAAQ,QAAOG,OAAQ,kCAAiCR,IAAK,UAASG,MAAO,EAAC,CACtI,CACEQ,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAKf,WAAW,CAACe,IAAI,CAAC,CAAC;IACpC;EACF,CAAC,EAAE,CAACnB,QAAQ,EAAEK,IAAI,CAAC,CAAC;EAEpBZ,SAAS,CAAC,MAAM;IACdgB,SAAS,EAAE;IACX;EACF,CAAC,EAAE,CAACJ,IAAI,CAAC,CAAC;EAEV,oBACE,QAAC,cAAc,CAAC,QAAQ;IAAC,KAAK,EAAEE,MAAO;IAAA,UAAEV;EAAQ;IAAA;IAAA;IAAA;EAAA,QAA2B;AAEhF,CAAC;AAAC,GA1DWD,eAAe;AAAA,KAAfA,eAAe;AA4D5B,OAAO,MAAMwB,UAAU,GAAG;EAAA;EAAA,OAAM7B,UAAU,CAACI,cAAc,CAAC;AAAA;AAAC,IAA9CyB,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}